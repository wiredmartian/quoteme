<!DOCTYPE html>
<html>

<head>
    <title>Project Quote - Professional Development Services</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        @media print {
            .no-print {
                display: none;
            }

            body {
                background: white;
            }
        }

        .quote-header {
            background: linear-gradient(135deg, #1E3A8A 0%, #3B82F6 100%);
        }

        .service-item {
            transition: all 0.2s ease-in-out;
        }

        .service-item:hover {
            background-color: #F8FAFC;
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen">
    <div class="max-w-4xl mx-auto p-6">

        <!-- Quote Header -->
        <div class="quote-header rounded-xl p-8 text-white mb-8 shadow-lg">
            <div class="flex justify-between items-start">
                <div>
                    <h1 class="text-3xl font-bold mb-2">Project Quote</h1>
                    <p class="text-blue-100">Professional Development Services</p>
                    <p class="text-blue-200 text-sm mt-2">Custom Software Solutions & Digital Transformation</p>
                </div>
                <div class="text-right">
                    <div class="text-blue-100 text-sm">Quote Date</div>
                    <div class="text-white font-semibold" id="quote-date"></div>
                    <div class="text-blue-100 text-sm mt-2">Quote #</div>
                    <div class="text-white font-semibold" id="quote-number"></div>
                </div>
            </div>
        </div>

        <!-- Selected Services -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 mb-6">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-900">Selected Services</h2>
                <p class="text-gray-600 text-sm mt-1">The following services have been selected for your project</p>
            </div>

            <div class="p-0">
                {{if .}}
                {{$total := 0}}
                <div class="divide-y divide-gray-100">
                    {{range $index, $service := .}}
                    {{$total = add $total .Price}}
                    <div class="service-item p-6 flex justify-between items-start">
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-900 text-lg mb-2">{{.Name}}</h3>
                            <p class="text-gray-600 leading-relaxed">{{.Description}}</p>
                            {{if eq .Price 0}}
                            <div class="mt-2">
                                <span
                                    class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                    Included in bundle
                                </span>
                            </div>
                            {{end}}
                        </div>
                        <div class="ml-6 text-right">
                            {{if eq .Price 0}}
                            <div class="text-lg font-bold text-green-600">Included</div>
                            {{else}}
                            <div class="text-2xl font-bold text-blue-600">R<span
                                    class="format-currency">{{.Price}}</span></div>
                            {{end}}
                        </div>
                    </div>
                    {{end}}
                </div>

                <!-- Total Section -->
                <div class="bg-gray-50 p-6 border-t-2 border-blue-200">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900">Project Total</h3>
                            <p class="text-gray-600 text-sm">Estimated cost for selected services</p>
                        </div>
                        <div class="text-right">
                            <div class="text-3xl font-bold text-blue-600">R<span
                                    class="format-currency">{{$total}}</span></div>
                            <div class="text-gray-500 text-sm">Excl. VAT</div>
                        </div>
                    </div>
                </div>
                {{else}}
                <div class="p-8 text-center text-gray-500">
                    <svg class="w-12 h-12 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                        </path>
                    </svg>
                    <p class="text-lg">No services selected</p>
                    <p class="text-sm mt-1">Please go back and select the services you need for your project.</p>
                    <a href="/"
                        class="inline-block mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                        Select Services
                    </a>
                </div>
                {{end}}
            </div>
        </div>

        <!-- Terms & Conditions -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Terms & Conditions</h3>
            <div class="text-sm text-gray-600 space-y-2">
                <p>• This quote is valid for 30 days from the date of issue.</p>
                <p>• Prices are estimates based on standard requirements and may vary based on project complexity.</p>
                <p>• A 50% deposit is required before project commencement.</p>
                <p>• Final pricing will be confirmed after detailed project analysis and requirements gathering.</p>
                <p>• Timeline estimates will be provided after project scope confirmation.</p>
                <p>• All prices exclude VAT unless otherwise stated.</p>
                <p>• Additional features or scope changes may incur additional costs.</p>
            </div>
        </div>


        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 no-print mb-8">
            <button onclick="window.print()"
                class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z">
                    </path>
                </svg>
                Print Quote
            </button>
            <a href="/"
                class="bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors font-semibold flex items-center justify-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Back to Services
            </a>
        </div>

    </div>

    <script>
        // Currency formatting function
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-ZA', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(amount);
        }

        // Set current date and generate quote number
        document.addEventListener('DOMContentLoaded', function () {
            const today = new Date();
            const dateStr = today.toLocaleDateString('en-ZA', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            document.getElementById('quote-date').textContent = dateStr;

            // Generate a simple quote number based on date
            const quoteNumber = 'WM-' + today.getFullYear() + (today.getMonth() + 1).toString().padStart(2, '0') + today.getDate().toString().padStart(2, '0') + '-' + Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            document.getElementById('quote-number').textContent = quoteNumber;

            // Format all currency values
            const currencyElements = document.querySelectorAll('.format-currency');
            currencyElements.forEach(element => {
                const amount = parseInt(element.textContent);
                element.textContent = formatCurrency(amount);
            });
        });
    </script>
</body>

</html>